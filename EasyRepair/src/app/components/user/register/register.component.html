<div class="container">
    <!-- <div class="alert alert-danger" *ngIf="form.get('lastname').hasError('WhiteSpacesNotAllowed')">
            <i class="fas fa-exclamation-triangle"></i> White spaces are not allowed.
        </div> 
    </div>-->
    <div *ngIf="error" class="alert alert-danger">{{error}}</div>

    <h2>Register</h2>
    <form class="form" [formGroup]="form" (ngSubmit)="SignInWithEmailAndPassword(form.value)">
        <div class="row">
            <div class="col-lg-6">
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <div class="input-group-text"><i class="fas fa-user fa-lg"></i><span
                                class="asteriks">&#42;</span>
                        </div>
                    </div>
                    <input class="form-control" type="text" placeholder="First name" id="firstname" name="firstname"
                        formControlName="firstname">
                    <i class="fas fa-check" *ngIf="form.get('firstname').valid && form.get('firstname').touched"
                        [ngClass]="{checked: form.get('firstname').valid}"></i>
                </div>
                <div class="alert">
                    <div *ngIf="!form.get('firstname').valid && form.get('firstname').touched">
                        <div class="alert alert-danger" *ngIf="form.get('firstname').hasError('required')">
                            <i class="fas fa-exclamation-triangle"></i> First name is required.
                        </div>
                        <div class="alert alert-danger" *ngIf="form.get('firstname').hasError('minlength')">
                            <i class="fas fa-exclamation-triangle"></i>
                            <p> First name should be at least 2 characters long.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <div class="input-group-text"><i class="fas fa-user fa-lg"></i><span
                                class="asteriks">&#42;</span>
                        </div>
                    </div>
                    <input class="form-control" type="text" placeholder="Last name" id="lastname" name="lastname"
                        formControlName="lastname">
                    <i class="fas fa-check" *ngIf="form.get('lastname').valid && form.get('lastname').touched"
                        [ngClass]="{checked: form.get('lastname').valid}"></i>
                </div>
                <div class="alert">
                    <div *ngIf="!form.get('lastname').valid && form.get('lastname').touched">
                        <div class="alert alert-danger" *ngIf="form.get('lastname').hasError('required')">
                            <i class="fas fa-exclamation-triangle"></i> Last name is required.
                        </div>
                        <div class="alert alert-danger" *ngIf="form.get('lastname').hasError('minlength')">
                            <i class="fas fa-exclamation-triangle"></i> Last name should be at least 2 characters long.
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-6">
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="far fa-envelope fa-lg"></i><span class="asteriks">&#42;</span>
                        </div>
                    </div>
                    <input class="form-control" type="text" placeholder="Email" id="email" name="email"
                        formControlName="email">
                    <i class="fas fa-check" *ngIf="form.get('email').valid && form.get('email').touched"
                        [ngClass]="{checked: form.get('email').valid}"></i>
                </div>
                <div class="alert">
                    <div *ngIf="!form.get('email').valid && form.get('email').touched">
                        <div class="alert alert-danger" *ngIf="form.get('email').hasError('required')">
                            <i class="fas fa-exclamation-triangle"></i> Email is required.
                        </div>
                        <div class="alert alert-danger" *ngIf="form.get('email').hasError('pattern')">
                            <i class="fas fa-exclamation-triangle"></i> Email should be formatted as
                            'example@address.abc'
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="input-group mb-2">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="fas fa-phone fa-lg"></i><span class="asteriks">&#42;</span>
                        </div>
                    </div>
                    <input class="form-control" type="number" placeholder="Phone number" id="phonenumber"
                        name="phonenumber" formControlName="phonenumber">
                    <i class="fas fa-check" *ngIf="form.get('phonenumber').valid && form.get('phonenumber').touched"
                        [ngClass]="{checked: form.get('phonenumber').valid}"></i>
                </div>
                <div class="alert">
                    <div *ngIf="!form.get('phonenumber').valid && form.get('phonenumber').touched">
                        <div class="alert alert-danger" *ngIf="form.get('phonenumber').hasError('required')">
                            <i class="fas fa-exclamation-triangle"></i> The phone number is required.
                        </div>
                        <div class="alert alert-danger" *ngIf="form.get('phonenumber').hasError('maxLength')">
                            <i class="fas fa-exclamation-triangle"></i> The phone number should be maximum 10 characters
                            long.
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-5">
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="fas fa-city fa-lg"></i><span class="asteriks">&#42; </span>
                        </div>
                    </div>
                    <input class="form-control" type="text" placeholder="City" id="city" name="city"
                        formControlName="city">
                    <i class="fas fa-check" *ngIf="form.get('city').valid && form.get('city').touched"
                        [ngClass]="{checked: form.get('city').valid}"></i>
                </div>
                <div class="alert">
                    <div *ngIf="!form.get('city').valid && form.get('city').touched">
                        <div class="alert alert-danger" *ngIf="form.get('city').hasError('required')">
                            <i class="fas fa-exclamation-triangle"></i> The city name is required.
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="fas fa-envelope fa-lg"></i><span class="asteriks">&#42; </span>
                        </div>
                    </div>
                    <input class="form-control" type="number" placeholder="ZIP Code" id="zipCode" name="zipCode"
                        formControlName="zipCode">
                    <i class="fas fa-check" *ngIf="form.get('zipCode').valid && form.get('zipCode').touched"
                        [ngClass]="{checked: form.get('zipCode').valid}"></i>
                </div>
                <div class="alert">
                    <div *ngIf="!form.get('zipCode').valid && form.get('zipCode').touched">
                        <div class="alert alert-danger" *ngIf="form.get('zipCode').hasError('required')">
                            <i class="fas fa-exclamation-triangle"></i> The ZIP code is required.
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="fas fa-map-marker-alt fa-lg"></i><span class="asteriks">&#42; </span>
                        </div>
                    </div>
                    <input class="form-control" type="number" placeholder="Number" id="strNumber" name="strNumber"
                        formControlName="strNumber">
                    <i class="fas fa-check" *ngIf="form.get('strNumber').valid && form.get('strNumber').touched"
                        [ngClass]="{checked: form.get('strNumber').valid}"></i>
                </div>
                <div class="alert">
                    <div *ngIf="!form.get('strNumber').valid && form.get('strNumber').touched">
                        <div class="alert alert-danger" *ngIf="form.get('strNumber').hasError('required')">
                            <i class="fas fa-exclamation-triangle"></i> The street number is required.
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-12">
                <div class="input-group mb-2">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="fas fa-map-marked-alt fa-lg"></i><span class="asteriks">&#42; </span>
                        </div>
                    </div>
                    <input class="form-control" type="text" placeholder="Address" id="addressLine" name="addressLine"
                        formControlName="addressLine">
                    <i class="fas fa-check" *ngIf="form.get('addressLine').valid && form.get('addressLine').touched"
                        [ngClass]="{checked: form.get('addressLine').valid}"></i>
                </div>
                <div class="alert">
                    <div *ngIf="!form.get('addressLine').valid && form.get('addressLine').touched">
                        <div class="alert alert-danger" *ngIf="form.get('addressLine').hasError('required')">
                            <i class="fas fa-exclamation-triangle"></i> The address is required.
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="input-group mb-2">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="fas fa-key fa-lg"></i><span class="asteriks">&#42;</span>
                        </div>
                    </div>
                    <input class="form-control" type="password" id="password" placeholder="Password" name="password"
                        formControlName="password">
                    <i class="fas fa-check" *ngIf="form.get('password').valid && form.get('password').touched"
                        [ngClass]="{checked: form.get('password').valid}"></i>
                </div>
                <div class="alert">
                    <div *ngIf="!form.get('password').valid && form.get('password').touched">
                        <div class="alert alert-danger" *ngIf="form.get('password').hasError('required')">
                            <i class="fas fa-exclamation-triangle"></i> The password is required.
                        </div>
                        <div class="alert alert-danger" *ngIf="form.get('password').hasError('minlength')">
                            <i class="fas fa-exclamation-triangle"></i> The password should be at least 8 characters
                            long.
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="input-group mb-2">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="fas fa-key fa-lg"></i><span class="asteriks">&#42;</span>
                        </div>
                    </div>
                    <input class="form-control" type="password" id="repeatpass" placeholder="Repeat password"
                        name="repeatpass" formControlName="repeatpass">
                    <i class="fas fa-check" *ngIf="form.get('repeatpass').valid && form.get('repeatpass').touched"
                        [ngClass]="{checked: form.get('repeatpass').valid}"></i>
                </div>
                <div class="alert">
                    <div *ngIf="!form.get('repeatpass').valid && form.get('repeatpass').touched">
                        <div class="alert alert-danger" *ngIf="form.get('repeatpass').hasError('required')">
                            <i class="fas fa-exclamation-triangle"></i> The field is required.
                        </div>
                        <div class="alert alert-danger" *ngIf="form.get('repeatpass').hasError('equalPasswords')">
                            <i class="fas fa-exclamation-triangle"></i> The passwords doesn't match!
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <button class="btn" type="submit" [disabled]="form.invalid">Register</button>
    </form>
    <div class="accountExist">You have already an account?<a href="/user/login"> Sign in</a></div>
</div>